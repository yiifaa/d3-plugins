{"version":3,"sources":["webpack:///webpack/bootstrap da894310038fd2ec3e2d?98c3*","webpack:///./src/forceTest.es6"],"names":["worker","Worker","nodes","links","i","len","push","id","name","strong","source","Math","floor","random","target","username","postMessage","svg","d3","select","now","Date","valueOf","init","onmessage","event","data","min","com","max","index","num","width","x","height","y","attr","console","log","linkDoms","append","selectAll","enter","nodeDoms","d"],"mappings":"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","file":"force.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap da894310038fd2ec3e2d","var worker = new Worker('/ForceWorker.js')\r\nvar nodes = [],\r\n    links = []\r\n\r\nfor(var i = 0, len = 300000; i < len; i ++) {\r\n    nodes.push({\r\n        id : i,\r\n        name : 'user-' + i,\r\n        strong : 5\r\n    })\r\n    let source = Math.floor(Math.random() * i) || 1,\r\n        target = Math.floor(Math.random() * len) || len\r\n    \r\n    links.push({\r\n        source,\r\n        target\r\n    })\r\n}\r\n\r\nnodes.push({\r\n    id : len, \r\n    username : '蔡英文',\r\n    strong: 15\r\n})\r\n\r\nworker.postMessage({\r\n    nodes,\r\n    links\r\n})\r\nvar svg = d3.select('#canvas'),\r\n    now = Date.now().valueOf(),\r\n    init = false\r\n\r\n\r\nworker.onmessage = function(event) {\r\n    var nodes = event.data.nodes,\r\n        links = event.data.links,\r\n        min = event.data.min,\r\n        com = event.data.now,\r\n        max = event.data.max,\r\n        index = 0,\r\n        num = 10000, \r\n        len = 10\r\n    \r\n    \r\n    \r\n    \r\n    //  加载完成了\r\n    if(min && max) {\r\n        var width = max.x - min.x,\r\n            height = max.y - min.y;\r\n        svg.attr('width', width)\r\n        svg.attr('height', height)\r\n        svg.attr('viewBox', min.x + ',' + min.y + ',' + width + ',' + height)\r\n        console.log('layoutTime', com - now)\r\n        // viewport\r\n        console.log(width, height)\r\n        \r\n        var  linkDoms = svg.append('g')\r\n                   .attr('class', 'links')\r\n                   .selectAll('line')\r\n                   .data(links)\r\n                   .enter()\r\n                   .append('line')\r\n                   .attr('stroke-width', 2)\r\n                   .attr('stroke', 'green'),\r\n            nodeDoms = svg.append(\"g\")\r\n                       .attr(\"class\", \"nodes\")\r\n                       .selectAll(\"circle\")\r\n                       .data(nodes)\r\n                       .enter()\r\n                       .append(\"circle\")\r\n                       .attr(\"r\", data => data.strong * 2)\r\n                       .attr(\"fill\", \"red\");\r\n            nodeDoms.data(nodes).attr(\"cx\", function(d) {\r\n                return d.x; \r\n            })\r\n            .attr(\"cy\", function(d) { return d.y; })\r\n\r\n            //\r\n            linkDoms.data(links).attr('x1', d => d.source.x)\r\n                 .attr('y1', d => d.source.y)\r\n                 .attr('x2', d => d.target.x)\r\n                 .attr('y2', d => d.target.y)\r\n        console.log(Date.now().valueOf() - now)\r\n        //\r\n        \r\n    }\r\n    \r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/forceTest.es6"],"sourceRoot":""}